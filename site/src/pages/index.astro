---
import { type CollectionEntry, getCollection } from "astro:content";
import { BreaksList } from "@/components/BreaksList";
import MetaFailureSection from "@/components/meta/MetaFailureSection.astro";
import MetaLayout from "@/layouts/MetaLayout.astro";

const breaks = await getCollection("breaks");
const breakSectionsMap = (await getCollection("breakSections")).reduce(
  (map, section) => {
    map[section.id] = section;
    return map;
  },
  {} as Record<string, CollectionEntry<"breakSections">>
);
---

<MetaLayout title="General Information">
  <h1>General Information</h1>
  <section id="about-this-site">
    <h2>About The Museum of Broken Things</h2>
    <p>
      This site is designed to demonstrate a wide range of accessibility
      failures, for teaching and assessment purposes.
    </p>
    <h3>Site Behavior</h3>
    <p><strong>This site is an example only. Do not enter real information!</strong></p>
    <ul>
      <li>The contents are made up</li>
      <li>The site is static; no data is retained by a server</li>
      <li>No real shipping address or payment processing occurs</li>
      <li>
          Registration and sign-in is not processed by a server,
          but it <em>does</em> function locally
          <ul><li>
            i.e., whatever email and password you most recently specified during registration
            will then work on the Sign In page
          </li></ul>
      </li>
      <li>
        No cookies are stored, despite what the home page might suggest
      </li>
      <li>
        Local storage is used for simulated persistence
        (e.g., for sign-in and the gift shop cart)
      </li>
    </ul>
    <p>
      <a href="museum/">Visit the Museum of Broken Things</a>
    </p>
  </section>

  <section id="summary-of-failures">
    <h2>Summary of failures</h2>
    <p>
      This section provides a breakdown of WCAG failures across the site.
    </p>

    {
      import.meta.env.DEV && (
        <p id="dev-error" class="error" hidden>
          The section specified in the hash does not exist. Check for typos in
          href, or make sure to add it to this page.
        </p>
      )
    }

    <BreaksList client:load breaks={breaks} breakSectionsMap={breakSectionsMap} />

    <hr />
    (Existing stuff beyond here, to be replaced)

    <MetaFailureSection href="museum/collections/" title="Collections Page">
      <p>This section includes only the collection page.</p>

      <p>This section demonstrates content that has a moderate-to-high number of accessibility failures, some of which would be very difficult to work around. The failures present a mix of those that can be found through automated testing and those that require manual testing.</p>

      <p>Discussion items:</p>
      <ol>
        <li>Should emojis that are used as part of a span o text be hidden from assistive technology or have a suitable accessible name to aid in comprehension?</li>
        <li>Is wrapping an animation in a <code>prefers-reduced-motion</code> media query sufficient for automatically animated content?</li>
      </ol>

      <dl slot="wcag2">
        <dt>1.4.13: Content on Hover or Focus</dt>
        <dd>
          The text displayed over collection images upon hover can't be dismissed without moving the pointer.
        </dd>
        <dt>2.1.1: Keyboard</dt>
        <dd>
          The text label on each collection's link only becomes visible on hover (not focus).
        </dd>
        <dt>2.2.2: Pause, Stop, Hide</dt>
        <dd>The scrolling banner for the PC event lasts for eight seconds. Note: the scrolling content is only visible for four seconds, so does this fail or not?</dd>
        <dt>2.4.3: Focus Order</dt>
        <dd>The collection links have explicit tabindex attributes, causing them to come before anything else in the page.</dd>
        <dd>
          The links in the "See More" section are not included in the explicit order, meaning focus tabs to each collection link,
          then header items, then the "See More" links, then the footer.
        </dd>
        <dd>
          The explicit tab order is optimized specifically for the widest
          layout, making it incorrect even within the collections list on narrower viewports.
        </dd>
        <dt>2.4.10: Section Headings </dt>
        <dd>
          The page doesn't have an H1. 
        </dd>  
        <dt>3.2.3: Consistent Navigation</dt>
        <dd>
          The links that appear within the "See More" section within the main content are removed from the header navigation where they otherwise typically appear.
        </dd>
      </dl>

      <dl slot="wcag3">
        <dt>Hover information</dt>
        <dd>
          The text displayed over collection images upon hover can't be dismissed without moving the pointer.
        </dd>
        <dt>Keyboard only</dt>
        <dd>
          The text label on each collection's link only becomes visible on hover (not focus).
        </dd>
        <dt>Order of content</dt>
        <dd>The collection links have explicit tabindex attributes, causing them to come before anything else in the page.</dd>
        <dd>
          The links in the "See More" section are not included in the explicit order, meaning focus tabs to each collection link,
          then header items, then the "See More" links, then the footer.
        </dd>
        <dd>
          The explicit tab order is optimized specifically for the widest
          layout, making it incorrect even within the collections list on narrower viewports.
        </dd>
        <dt>Consistent navigation</dt>
        <dd>
          The links that appear within the "See More" section within the main content
          are removed from the header navigation where they otherwise typically appear.
        </dd>
        <dt>Section headings </dt>
        <dd>
          The page doesn't have an H1. 
        </dd> 
      </dl>
    </MetaFailureSection>

    <MetaFailureSection href="museum/collections/dishes/" title="Dishes Collection">
      <p>This section includes the dishes collection page and related item subpages.</p>

      <p>
        This section demonstrates content that has very few accessibility failures
        and the failures that exist can be worked around or are in less important features.
        The failures present a mix of those that can be found through automated testing and those that require manual testing.
      </p>

      <dl slot="wcag2">
        <dt>1.1.1: Non-text Content</dt>
        <dd>
          The exhibit images do not have alt text.
        </dd>
        <dt>2.1.1: Keyboard</dt>
        <dd>
          The favorites marker is not accessible via keyboard.
        </dd>
        <dt>2.2.3: No Timing</dt>
        <dd>
          The toast displayed when the favorite state is toggled contains an undo button,
          but the toast disappears in a few seconds, giving the user limited time to interact.
        </dd>
        <dt>3.1.5: Reading Level</dt>
        <dd>
          The Dishes collection has a reading level of upper secondary education with no alternative version.
        </dd>
      </dl>

      <dl slot="wcag3">
        <dt>Adequate time</dt>
        <dd>
          The toast displayed when the favorite state is toggled contains an undo button,
          but the toast disappears in a few seconds, giving the user limited time to interact.
        </dd>
        <dt>Image alternatives</dt>
        <dd>
          The exhibit images do not have alt text.
        </dd>
        <dt>Keyboard only</dt>
        <dd>
          The favorites marker is not accessible via keyboard.
        </dd>
        <dt>Control interruptions</dt>
        <dd>
          The confirmation toasts in response to toggling favorites
          cannot be customized or disabled.
        </dd>
      </dl>
    </MetaFailureSection>

    <MetaFailureSection href="museum/collections/glass/" title="Glass Collection">
      <p>This section includes the glass collection page and related item subpages.</p>

      <dl slot="wcag2">
        <dt>3.1.5: Reading Level</dt>
        <dd>
          The Glass collection has a reading level of advanced education with no alternative version.
        </dd>
      </dl>

    </MetaFailureSection>

    <MetaFailureSection href="museum/collections/music/" title="Music Collection">
      <dl slot="wcag2">
        <dt>2.4.4 and 2.4.9: Link Purpose</dt>
        <dd>
          The purpose of each entry's link is unclear because its image (with alt text)
          is also included within the link, preceding its title.
        </dd>
      </dl>

      <dl slot="wcag3">
        <dt>Control labels</dt>
        <dt>Interface verbosity</dt>
        <dd>
          The link for each entry is overly verbose, due to the inclusion of
          each entry's image (with alt text).
        </dd>
      </dl>
    </MetaFailureSection>

    <MetaFailureSection href="museum/collections/sports/" title="Sports Collection">
      <dl slot="wcag2">
        <dt>1.1.1: Non-text Content</dt>
        <dd>
          The alt text on each entry's image repeats the entry's title, rather than
          describing the image.
        </dd>
        <dt>2.4.7: Focus Visible</dt>
        <dd>
          There is no visible focus outline when a collection's image is focused.
        </dd>
      </dl>

      <dl slot="wcag3">
        <dt>Relevant focus</dt>
        <dd>
          Each collection's image and title are independently linked,
          requiring focus to be advanced twice to reach the next unique link.
        </dd>
        <dt>Keyboard focus location</dt>
        <dd>
          There is no visible focus outline when a collection's image is focused.
        </dd>
      </dl>
    </MetaFailureSection>

    <MetaFailureSection href="museum/collections/technology/" title="Technology Collection">
      <p>This section includes the technology collection page and related item subpages.</p>

      <p>This section demonstrates content that has very few accessibility failures in the programmatic portion of the page but has a number of failures in the content.</p>

      <dl slot="wcag2">
        <dt>1.1.1: Non-text Content</dt>
        <dd>
          Some of the exhibit images lack alt text.
        </dd>
        <dt>2.4.10: Section Headings</dt>
        <dd>
          The page doesn't have an H1. 
        </dd>  
      </dl>

      <dl slot="wcag3">
        <dt>Image alternatives</dt>
        <dd>
          Some of the exhibit images lack alt text.
        </dd>
        <dt>Section headings</dt>
        <dd>
          The page doesn't have an H1. 
        </dd>         
      </dl>
    </MetaFailureSection>

    <MetaFailureSection href="museum/collections/containers/" title="Containers">
      <p>This section includes the containers collection page and related item subpages.</p>

      <p>This section demonstrates content that a number of small accessibility failures.</p>

      <dl slot="wcag2">
        <dt>1.3.6: Identify Purpose</dt>
        <dd>
          The favorite toggle does not programmatically indicate that it accepts input.
        </dd>
        <dt>1.4.11: Non-text Contrast</dt>
        <dd>
          The favorite icon uses a color that does not always maintain sufficient contrast with the background
          (see old clay jug).
        </dd>
        <dt>2.1.1 and 2.1.3: Keyboard</dt>
        <dd>
          The Favorite toggle is not accessible via keyboard.
        </dd>
      </dl>

      <dl slot="wcag3">
        <dt>Name, role, value, state</dt>
        <dd>
          The favorite toggle does not programmatically indicate that it accepts input.
        </dd>
        <dt>Non-text contrast</dt>
        <dd>
          The favorite icon uses a color that does not always maintain sufficient contrast with the background
          (see old clay jug).
        </dd>
        <dt>Keyboard only</dt>
        <dd>
          The Favorite toggle is not accessible via keyboard.
        </dd>
      </dl>
    </MetaFailureSection>

    <MetaFailureSection href="museum/tour/" title="Take a Tour">
      <p>This section includes the Take a Tour page and related subpages.</p>

      <p>This section demonstrates task completion and multimedia failures.</p>

      <dl slot="wcag2">
        <dt>1.2.3 and 1.2.5: Audio Description (Prerecorded)</dt>
        <dd>
          No audio description, nor media alternative, is provided to explain the non-narrated contents of
          the video at the top of the page.
        </dd>
        <dt>1.2.6: Sign Language (Prerecorded)</dt>
        <dd>
          No sign language interpretation is provided for the prerecorded audio content
          in the video at the top of the page.
        </dd>
        <dt>2.2.4: Interruptions</dt>
        <dd>
          The time to next departure is called out every 15 seconds and cannot be turned off.
        </dd>
        <dt>3.2.3: Consistent Navigation</dt>
        <dd>
          The "Take a Tour" item is missing from the top nav on this page.
        </dd>
      </dl>

      <dl slot="wcag3">
        <dt>Audio descriptions</dt>
        <dd>
          No audio description is provided to explain the non-narrated contents of
          the video at the top of the page.
        </dd>
        <dt>Finding media alternatives</dt>
        <dd>
          No media alternative is provided to explain the contents of
          the video at the top of the page.
        </dd>
        <dt>Consistent navigation</dt>
        <dd>
          The "Take a Tour" item is missing from the top nav on this page.
        </dd>
        <dt>Control interruptions</dt>
        <dd>
          The time to next departure is called out every 15 seconds and cannot be turned off.
        </dd>
      </dl>
    </MetaFailureSection>

    <MetaFailureSection href="museum/blog/" title="Blog">
      <p>This section includes the Blog page and related article subpages.</p>

      <p>This section demonstrates a moderate level of content, interaction and multimedia failures.</p>

      <p>
        Point for discussion: In the post titled "Announcing the Addition of a New Wing", there is
        a pull quote from the subsequent paragraph, which appears two sentences later in the article.
        Should the pull quote be hidden from screen readers?
      </p>

      <dl slot="wcag2">
        <dt>1.2.4: Captions (Live)</dt>
        <dd>
          The topmost blog post contains a video element representing a live broadcast,
          which does not include any captions.
        </dd>
        <dt>1.4.3 and 1.4.6: Contrast</dt>
        <dd>
          The "Blog" heading is superimposed over an image with no overlay to guarantee minimum contrast.
        </dd>
        <dt>1.4.13: Content on Hover or Focus</dt>
        <dd>
          In the top navigation bar, nested items open on keyboard focus and can only be dismissed by moving focus.
        </dd>
        <dt>2.3.3: Animation from Interactions</dt>
        <dd>
          Images zoom in on hover and do not respect prefers-reduced-motion.
        </dd>
        <dt>2.4.1: Bypass Blocks</dt>
        <dd>
          The "Skip to content" link does not work properly on the blog listing page.
        </dd>
        <dt>2.4.4 and 2.4.9: Link Purpose</dt>
        <dd>
          Each post image, as well as the arrow on the topmost post, links to its post, but has no content to describe the link.
        </dd>
        <dt>2.4.13: Focus Appearance</dt>
        <dd>
          In the top nav, links within submenus indicate focus by only a single border
          located equidistant from the text above and below it, making it ambiguous
          which item is focused. When the last item in a submenu is focused,
          the indicator has low contrast against the page background.
        </dd>
        <dt>2.5.5: Target Size (Enhanced)</dt>
        <dd>
          The link after the excerpt from the topmost post is smaller than 44 by 44 pixels.
        </dd>
        <dt>3.1.1: Error Identification</dt>
        <dd>
          The first post under "In the News" leads to a 404 page with no clear description of what went wrong.
        </dd>
        <dt>4.1.2: Name, Role, Value</dt>
        <dd>
          In the top navigation bar, there is no programmatic indication of expandable items.
        </dd>
      </dl>

      <dl slot="wcag3">
        <dt>Motion</dt>
        <dd>
          Images zoom in on hover and do not respect prefers-reduced-motion.
        </dd>
        <dt>???</dt>
        <dd>
          The "Skip to content" link does not work properly on the blog listing page.
        </dd>
        <dt>Error identification</dt>
        <dd>
          The first post under "In the News" leads to a 404 page with no clear description of what went wrong.
        </dd>
        <dt>Captions</dt>
        <dd>
          The topmost blog post contains a video element representing a live broadcast,
          which does not include any captions.
        </dd>
        <dt>Hover information</dt>
        <dd>
          In the top navigation bar, nested items open on keyboard focus and can only be dismissed by moving focus.
        </dd>
        <dt>Name, role, value, state</dt>
        <dd>In the top navigation bar, there is no programmatic indication of expandable items.</dd>
        <dt>Control labels</dt>
        <dt>Name, role, value, state (needs discussion)</dt>
        <dd>Each post image, as well as the arrow on the topmost post, links to its post, but has no content to describe the link.</dd>
        <dt>Target size</dt>
        <dd>
          The link after the excerpt from the topmost post is smaller than 44 by 44 pixels.
        </dd>
        <dt>Keyboard focus location</dt>
        <dd>
          In the top nav, links within submenus indicate focus by only a single border
          located equidistant from the text above and below it, making it ambiguous
          which item is focused. When the last item in a submenu is focused,
          the indicator has low contrast against the page background.
        </dd>
        <dt>Minimum text contrast</dt>
        <dd>
          The "Blog" heading is superimposed over an image with no overlay to guarantee minimum contrast.
        </dd>
      </dl>

    </MetaFailureSection>

    <MetaFailureSection href="museum/gift-shop/" title="Gift Shop">
      <p>This section includes the Gift shop, product subpages and checkout process.</p>

      <p>This section demonstrates task completion and form based failures.</p>

      <p>Note: One or more items must be in the cart to continue the checkout process.</p>

      <dl slot="wcag2">
        <dt>1.4.3 and 1.4.6: Contrast</dt>
        <dd>
          On the category listing page,
          text is superimposed over images with no overlay to guarantee minimum contrast.
        </dd>
        <dd>
          The navigation bar content overflows its background on mobile viewports,
          making the cart link nearly invisible.
        </dd>
        <dt>1.4.13: Content on Hover or Focus</dt>
        <dd>
          In the top navigation bar, nested items open on hover and can only be dismissed by moving the pointer.
        </dd>
        <dt>2.1.1: Keyboard</dt>
        <dd>
          In the top navigation bar, parent items are not focusable (and therefore cannot be opened) via keyboard.
        </dd>
        <dt>2.2.3: No Timing</dt>
        <dd>
          Forms in the checkout process time out after an undisclosed period of time.
        </dd>
        <dt>2.4.6 and 2.4.9: Link Purpose</dt>
        <dd>The cart link contains only an icon, with no text label explaining its purpose.</dd>
        <dt>2.4.7: Focus Visible</dt>
        <dd>The focus is not visible on the increment/decrement buttons that adjust the number of items.</dd>
        <dt>3.2.3: Consistent Navigation</dt>
        <dd>
          The Gift Shop link appears in the header on mobile viewports within gift shop pages,
          but does not appear there outside of the gift shop.
          It also does not appear in the footer on mobile.
        </dd>
        <dt>3.2.6: Consistent Help</dt>
        <dd>
          The help contact number is located above the site footer,
          as opposed to all other pages where it is inside the footer at the end.
        </dd>
        <dt>3.3.1: Error Identification</dt>
        <dd>
          Errors do not specifically describe what expectation was failed for each field.
        </dd>
        <dt>3.3.2: Labels or Instructions</dt>
        <dd>
          Fields have no labels, and no indication is given on accepted input formats.
        </dd>
        <dt>3.3.3: Error Suggestion</dt>
        <dd>
          Errors do not provide suggested corrections.
        </dd>
        <dt>3.3.4 and 3.3.6: Error Prevention</dt>
        <dd>
          There is no confirmation step after entering payment information,
          failing 3.3.4 for financial information in addition to 3.3.6.
        </dd>
        <dt>3.3.5: Help</dt>
        <dd>
          No context-sensitive help is available.
        </dd>
        <dt>3.3.6: Error Prevention (All)</dt>
        <dd>
          The quantity field uses <code>type="tel"</code>, which allows non-numeric input,
          rather than the more appropriate <code>type="number"</code>.
        </dd>
        <dt>4.1.2: Name, Role, Value</dt>
        <dd>
          In the top navigation bar, there is no programmatic indication of expandable items.
        </dd>
        <dt>4.1.3: Status Messages</dt>
        <dd>
          When the payment form becomes disabled, the toast that appears
          does not grab focus and is not announced.
        </dd>
      </dl>

      <dl slot="wcag3">
        <dt>Contrast minimum</dt>
        <dd>
          On the category listing page,
          text is superimposed over images with no overlay to guarantee minimum contrast.
        </dd>
        <dd>
          The navigation bar content overflows its background on mobile viewports,
          making the cart link nearly invisible.
        </dd>
        <dt>Allow automated entry</dt>
        <dd>
          The input fields on the payment step disallow paste.
        </dd>
        <dt>Error association</dt>
        <dd>
          There is no error message programmatically associated with each input.
        </dd>
        <dt>Error identification</dt>
        <dd>
          The only indication of error is a border color change.
        </dd>
        <dt>Error notification</dt>
        <dd>
          Errors do not specifically describe what expectation was failed for each field.
        </dd>
        <dt>Input instructions</dt>
        <dd>
          No indication of input formats is provided.
        </dd>
        <dt>Input labels</dt>
        <dd>
          No input labels are present.
        </dd>
        <dt>Persistent error notification</dt>
        <dd>
          There is no way to dismiss errors until the entire form is resubmitted.
        </dd>
        <dt>Visible error</dt>
        <dd>
          There is only one generic error message, at the top of the entire form.
        </dd>
        <dt>Adequate time</dt>
        <dd>
          There is a timeout on each step that may be too short to enter required information.
        </dd>
        <dt>Action required</dt>
        <dd>
          There is no visible indication of fields being required, until the user attempts to submit.
        </dd>
        <dt>Go back in process</dt>
        <dd>
          There is no mechanism within the page for stepping back through the process,
          or indicating position within the process.
        </dd>
        <dt>Inform at start</dt>
        <dd>
          Nothing is disclosed up-front about the information that will be required to complete checkout.
        </dd>
        <dt>Behavior of controls</dt>
        <dd>
          The toasts displayed for form timeouts on the shipping and payment steps are inconsistent
          with each other (one has role="alert", the other does not).
        </dd>
        <dt>Name, role, value, state</dt>
        <dd>
          In the top navigation bar, there is no programmatic indication of expandable items.
        </dd>
        <dt>Control labels</dt>
        <dt>Name, role, value, state (needs discussion)</dt>
        <dd>The cart link contains only an icon, with no text label explaining its purpose.</dd>
        <dt>Hover information</dt>
        <dd>
          In the top navigation bar, nested items open on hover and can only be dismissed by moving the pointer.
        </dd>
        <dt>Restore focus</dt>
        <dd>
          Upon entering an invalid quantity (e.g. 0), pressing add to cart, then dismissing the modal,
          focus is not restored to the add to cart button.
        </dd>
        <dt>Keyboard focus location</dt>
        <dd>The focus is not visible on the increment/decrement buttons that adjust the number of items.</dd>
        <dt>Keyboard only</dt>
        <dd>
          In the top navigation bar, parent items are not focusable (and therefore cannot be opened) via keyboard.
        </dd>
        <dt>Focus retention</dt>
        <dd>
          Upon entering an invalid quantity (e.g. 0), the modal that appears does not
          grab, trap, and restore focus.
        </dd>
        <dt>Multistep process</dt>
        <dd>No context is given with regard to progress through the checkout process.</dd>
        <dt>Notification of change</dt>
        <dd>
          When the payment form becomes disabled, the toast that appears
          does not grab focus and is not announced.
        </dd>
        <dt>Consistent Navigation</dt>
        <dd>
          The Gift Shop link appears in the header on mobile viewports within gift shop pages,
          but does not appear there outside of the gift shop.
          It also does not appear in the footer on mobile.
        </dd>
        <dt>Ambiguous numerical formatting</dt>
        <dd>
          In the footer, the year of the site's creation is expressed in Roman numerals.
        </dd>
        <dt>Numbered steps</dt>
        <dd>
          Checkout steps are not numbered; progress through the process is not indicated at all.
        </dd>
        <dt>Consistent help</dt>
        <dd>
          The help contact number is located above the site footer,
          as opposed to all other pages where it is inside the footer at the end.
        </dd>
        <dt>Contextual help</dt>
        <dd>
          No contextual help is available.
        </dd>
      </dl>
    </MetaFailureSection>

    <MetaFailureSection href="museum/map/" title="Museum Map">
      <dl slot="wcag2">
        <dt>1.1.1: Non-text Content</dt>
        <dd>
          The arrow buttons over the map do not contain text labels.
        </dd>
        <dt>1.3.3: Sensory Characteristics</dt>
        <dd>
          Instructions allude only to color when describing visible map controls,
          which is insufficient to disambiguate for colorblind users, as some
          controls feature the same icons distinguished only by color.
        </dd>
        <dt>1.4.1: Use of Color</dt>
        <dd>
          The map controls for zooming and panning vertically are distinguished only by color,
          and the instructions are dependent on this distinction.
        </dd>
        <dt>1.4.10: Reflow</dt>
        <dd>The controls disappear when magnified.</dd>
        <dt>1.4.11: Non-text Contrast</dt>
        <dd>
          The pin on the map uses a color that has extremely poor contrast against
          the map's colors.
        </dd>
        <dt>2.1.4: Character Key Shortcuts</dt>
        <dd>
          Single-character key bindings are implemented across the entire page
          for map movement, and cannot be turned off or customized.
        </dd>
        <dt>2.4.13: Focus Appearance</dt>
        <dd>
          The map controls use a dotted focus outline with a color that falls well below
          3:1 contrast against the underlying map.
        </dd>
        <dt>2.5.1: Pointer Gestures</dt>
        <dd>
          On mobile viewports, the only way to zoom the map is via a pinch gesture.
        </dd>
      </dl>

      <dl slot="wcag3">
        <dt>Image alternatives</dt>
        <dd>
          The arrow buttons over the map do not contain text labels.
        </dd>
        <dt>Use of color</dt>
        <dd>
          Instructions allude only to color when describing visible map controls,
          which is insufficient to disambiguate for colorblind users, as some
          controls feature the same icons distinguished only by color.
        </dd>
        <dt>Reflow</dt>
        <dd>The controls disappear when magnified.</dd>
        <dt>Non-text contrast</dt>
        <dd>
          The pin on the map uses a color that has extremely poor contrast against
          the map's colors.
        </dd>
        <dt>Comparable keyboard effort</dt>
        <dd>Panning the map can require many more keypresses compared to dragging a pointer device.</dd>
        <dt>Gestures &amp; dragging</dt>
        <dd>
          On mobile viewports, the only way to control the map is via dragging and pinch-to-zoom.
        </dd>
        <dt>Keyboard commands</dt>
        <dd>
          Single-character key bindings are implemented across the entire page
          for map movement, and cannot be turned off or customized.
        </dd>
        <dt>Keyboard focus location</dt>
        <dd>
          The map controls use a dotted focus outline with a color that falls well below
          3:1 contrast against the underlying map.
        </dd>
        <dt>Sensory characteristics</dt>
        <dd>
          Instructions allude only to color when describing visible map controls,
          which is insufficient to disambiguate for colorblind users, as some
          controls feature the same icons distinguished only by color.
        </dd>
      </dl>


    </MetaFailureSection>

    <MetaFailureSection href="museum/login/" title="Register & Sign In">
      <p>This section includes the registration and sign in processes.</p>

      <p>This section demonstrates task completion, form based and authentication failures.</p>

      <dl slot="wcag2">
        <dt>1.1.1: Non-text Content</dt>
        <dd>A CAPTCHA is required and no alternative is provided.</dd>
        <dt>1.4.1: Use of Color</dt>
        <dd>
          The focused state of the CAPTCHA field only affects its existing border,
          and does not have sufficient contrast against the unfocused state.
        </dd>
        <dt>1.4.3: Contrast (Minimum)</dt>
        <dd>Placeholder text does not meet the minimum contrast ratio.</dd>
        <dt>2.4.13: Focus Appearance</dt>
        <dd>
          The focused state of the CAPTCHA field only affects a 1px-thick border,
          and does not have sufficient contrast against the unfocused state.
        </dd>
        <dt>3.3.2: Labels or Instructions</dt>
        <dd>Form inputs have no labels.</dd>
        <dt>3.3.8 and 3.3.9: Accessible Authentication</dt>
        <dd>The input fields disallow paste. Cognitive test is present on Register page.</dd>
      </dl>

      <dl slot="wcag3">
        <dt>Minimum text contrast</dt>
        <dd>Placeholder text does not meet the minimum contrast ratio.</dd>
        <dt>Allow automated entry</dt>
        <dd>The input fields disallow paste.</dd>
        <dt>Input labels</dt>
        <dd>Form inputs have no labels.</dd>
        <dt>No cognitive tests</dt>
        <dd>Cognitive test is present on Register page.</dd>
        <dt>Interaction indicators contrast</dt>
        <dd>
          The CAPTCHA field has an invisible text cursor/caret.
        </dd>
        <dt>Non-text contrast</dt>
        <dd>
          The CAPTCHA field is initially empty and indicated only by a
          low-contrast underline, making its hit area ambiguous.
        </dd>
        <dt>Keyboard focus location</dt>
        <dd>
          The focused state of the CAPTCHA field only affects a 1px-thick border,
          and does not have sufficient contrast against the unfocused state.
        </dd>
      </dl>
    </MetaFailureSection>

    <MetaFailureSection href="museum/volunteer/" title="Volunteer">
      <p>This section includes the volunteer sign up process pages.</p>

      <p>This section includes task completion and form based failures. This includes a small number of errors.</p>

      <dl slot="wcag2">
        <dt>2.2.3: No Timing</dt>
        <dd>
          The volunteer form becomes unsubmittable after a short time,
          and the toast informing of this change disappears after a few seconds.
        </dd>
        <dt>2.2.6: Timeouts</dt>
        <dd>
          The form becomes unsubmittable after a short time period which is not disclosed in advance.
        </dd>
        <dt>4.1.3: Status Messages</dt>
        <dd>
          When the form becomes disabled, the toast that appears
          does not grab focus and is not announced.
        </dd>
      </dl>

      <dl slot="wcag3">
        <dt>Persistent error notification</dt>
        <dd>
          The timeout notification toast dismisses itself automatically
          without waiting for the user.
        </dd>
        <dt>Adequate time</dt>
        <dd>
          There is a timeout that may be too short to enter required information,
          which the user is not notified about.
          The toast that appears when the timeout lapses disappears after a few seconds.
        </dd>
        <dt>Notification of change</dt>
        <dd>
          When the form becomes disabled, the toast that appears
          does not grab focus and is not announced.
        </dd>
      </dl>
    </MetaFailureSection>

    <MetaFailureSection href="museum/help/" title="Help">
      <dl slot="wcag3">
        <dt>Acronyms and abbreviations</dt>
        <dd>The page references an acronym without ever including its expanded form.</dd>
        <dt>Figurative language</dt>
        <dd>No explanations are included for idioms and metaphors used on the page.</dd>
        <dt>Lists</dt>
        <dd>Three steps are enumerated in a paragraph rather than a list.</dd>
        <dt>Numbered steps</dt>
        <dd>
          Three steps are enumerated in a paragraph with wording that suggests numerical order,
          but they are not explicitly numbered.
        </dd>
        <dt>Uncommon words</dt>
        <dd>No definitions are provided for uncommon words found in the page.</dd>
        <dt>Verb tense</dt>
        <dd>There are instances where the chosen verb tense is not the easiest to understand.</dd>
        <dt>Unnecessary words or phrases</dt>
        <dd>Some sentences could be made clearer by removing filler words or embellishments.</dd>
      </dl>
    </MetaFailureSection>
  </section>

  <section id="acknowledgment">
    <h2>Acknowledgment</h2>
    <p>
      The Museum of Broken Things was created by the <a href="https://www.w3.org/WAI/about/groups/agwg/">W3C Accessibility Guidelines Working Group</a> and <a href="https://accessiblecommunity.org/">Accessible Community</a>.
    </p>

    <h2>Individual Contributors</h2>
    <ul>
      <li>Ken Franqueiro</li>
      <li>Francis Storr</li>
      <li>Rachael Bradley Montgomery</li>
      <li>Alastair Campbell</li>
      <li>Asher Kolieboi</li>
      <li>Ellen Liebert</li>
      <li>Brian Montgomery</li> 
      <li>Matt Russell</li>
      <li>Kevin White</li>
    </ul>
  </section>

  <section>
    <h2>License</h2>
    <p>
      This repository is licensed under the
      <a href="https://www.apache.org/licenses/LICENSE-2.0">Apache License, version 2.0</a>.
    </p>
  </section>
</MetaLayout>

<script>
  if (
    import.meta.env.DEV &&
    location.hash &&
    !document.getElementById(location.hash.slice(1))
  ) {
    document.getElementById("dev-error")!.hidden = false;
  }
</script>

<style is:global>
  form {
    & div {
      display: flex;
      gap: 1rem;
      margin: 0.5rem;
    }
    & label {
      width: 8em;
    }
  }

  dt {
    font-weight: bold;
  }

  dd + dt {
    margin-top: calc(1rem * var(--ms-3));
  }

  .photosensitivity {
    color: #eb0000;
    font-weight: bold;
    padding: 0.25em;
  }
</style>
